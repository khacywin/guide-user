{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/GuideContext.tsx","../src/ActionDrivenComponent/index.tsx","../src/useHandlePosition.tsx","../src/TourComponent/index.tsx","../src/index.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { createContext, useMemo, useState } from \"react\";\n\nexport interface IGuide {\n  mode?: \"tour\" | \"action-driven\";\n  nextStep?: any;\n  previousStep?: any;\n  run: boolean;\n  setStep: any;\n  setTotal?: any;\n  step: number;\n  total?: number;\n}\n\nconst GuideContext = createContext<IGuide>({\n  mode: \"action-driven\",\n  nextStep: () => {},\n  previousStep: () => {},\n  run: true,\n  setStep: () => {},\n  setTotal: () => {},\n  step: 1,\n  total: 1,\n});\n\nexport default GuideContext;\n\ninterface IGuideProvider {\n  value?: Partial<IGuide>;\n  children?: any;\n}\n\nexport function GuideProvider({ value, children }: IGuideProvider) {\n  const [step, setStep] = useState(1);\n  const [total, setTotal] = useState(1);\n\n  const nextStep = () =>\n    value.setStep ? value?.setStep(value?.step + 1) : setStep(step + 1);\n  const previousStep = () =>\n    value.setStep ? value?.setStep(value?.step - 1) : setStep(step - 1);\n\n  const defaultValue: IGuide = useMemo(\n    () => ({\n      mode: \"action-driven\",\n      nextStep,\n      previousStep,\n      run: true,\n      setStep,\n      setTotal,\n      step,\n      total,\n    }),\n    [nextStep, previousStep]\n  );\n\n  return (\n    <GuideContext.Provider value={{ ...defaultValue, ...value }}>\n      {children}\n    </GuideContext.Provider>\n  );\n}\n","import \"./style.css\";\n\nimport React, {\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\n\nimport GuideContext from \"./../GuideContext\";\nimport icon from \"./../guide.svg\";\n\ninterface Props {\n  children: JSX.Element;\n  position?: (\"left\" | \"right\" | \"top\" | \"bottom\")[];\n  step: number;\n  text?: string;\n  type?: \"button\" | \"input\";\n}\n\nexport default function ({\n  children,\n  position = [\"bottom\", \"left\"],\n  step,\n  text,\n  type = \"button\",\n}: Props) {\n  const { run, step: stepContext, setStep, nextStep } = useContext(\n    GuideContext\n  );\n  const [active, setActive] = useState(false);\n  const refChildren = useRef<HTMLDivElement>();\n\n  const _skip = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setStep(0);\n  };\n\n  useEffect(() => {\n    setActive(run && step === stepContext);\n  }, [stepContext, run, step]);\n\n  useEffect(() => {\n    if (type === \"input\") {\n      const ele = refChildren.current?.getElementsByTagName(\"input\")?.[0];\n      ele?.focus();\n      ele?.addEventListener(\"blur\", (e: any) => {\n        if (e.target.value) {\n          setStep(stepContext + 1);\n        }\n      });\n    }\n  });\n\n  return active ? (\n    <div className=\"w-guide\">\n      <div className=\"w-guide-mark\" />\n      <div ref={refChildren} className=\"w-guide-wrap\">\n        {React.cloneElement(children, {\n          children: (\n            <>\n              {children.props.children}\n              <div className={`w-guide-text ${position.join(\" \")}`}>\n                <img src={icon} />\n                <div className=\"w-guide-container\">\n                  <div>{text}</div>\n                  <button className=\"w-guide-skip\" onClick={_skip}>Skip all</button>\n                </div>\n              </div>\n            </>\n          ),\n          onClick: (e: any) => {\n            if (\n              !(e.target?.offsetParent?.className.indexOf(\"w-guide-text\") >= 0)\n            ) {\n              children.props.onClick(e);\n              nextStep();\n            }\n          },\n          className:\n            children.props.className +\n            (type === \"button\"\n              ? \" w-guide-tap-click\"\n              : type === \"input\"\n              ? \" w-guide-input\"\n              : \" \"),\n        })}\n      </div>\n    </div>\n  ) : (\n    children\n  );\n}\n","import { RefObject, useCallback, useMemo } from \"react\";\n\ninterface IOptions {\n  add?: {\n    top?: number;\n    left?: number;\n    right?: number;\n    bottom?: number;\n  };\n  position?: (\"left\" | \"right\" | \"top\" | \"bottom\")[];\n}\n\nfunction useHandlePosition<T extends HTMLBaseElement>(\n  ref: RefObject<T>,\n  refParent: RefObject<any>,\n  options: IOptions = {\n    add: {\n      top: 0,\n      left: 0,\n    },\n    position: [],\n  }\n) {\n  // Get position of screen\n  const pScreen = useMemo(() => {\n    return {\n      x: 0,\n      y: 0,\n      height: window.innerHeight,\n      width: window.innerWidth,\n    };\n  }, []);\n\n  const _calPositionOfRef = useCallback(\n    (x: number, y: number) => {\n      const p = ref.current.getBoundingClientRect();\n\n      return {\n        bottom: p.bottom + y,\n        height: p.height,\n        left: p.left + x,\n        right: p.right + x,\n        top: p.top + y,\n        width: p.width,\n        x: p.x + x,\n        y: p.y + y,\n      };\n    },\n    [ref?.current]\n  );\n\n  const _handlePosition = useCallback(() => {\n    let translateY: number = 0,\n      translateX: number = 0,\n      transformOriginX: string,\n      transformOriginY: string;\n\n    const pParent = refParent.current.getBoundingClientRect();\n    let pElement = _calPositionOfRef(translateX, translateY);\n\n    /**\n     * Set default position of element\n     */\n    if (options.position.indexOf(\"top\") >= 0) {\n      translateY = pParent.top - pElement.height - (options.add.top || 0);\n    } else if (options.position.includes(\"bottom\")) {\n      translateY = pParent.bottom + (options.add.bottom || 0);\n    } else {\n      translateY = pParent.top + pParent.height / 2 - pElement.height / 2;\n    }\n\n    if (options.position.indexOf(\"right\") >= 0) {\n      translateX = pParent.left + pParent.width + (options.add.right || 0);\n    } else if (options.position.includes(\"left\")) {\n      translateX = pParent.left - pElement.width - (options.add.left || 0);\n    } else {\n      translateX = pParent.left + pParent.width / 2 - pElement.width / 2;\n    }\n\n    // Cal again position of element to continue calculating position\n    pElement = _calPositionOfRef(translateX, translateY);\n\n    /**\n     * Set case is overload\n     */\n    // Cal again position of Element\n    // When it is more than height of screen\n    if (translateY > pScreen.height) {\n      translateY -= translateY - pScreen.height - pElement.height - 10;\n    }\n\n    if (translateY < 0) {\n      translateY = 10;\n    }\n\n    // When it is more than width of screen\n    if (translateX > pScreen.width) {\n      translateX -= translateX - pScreen.width - pElement.width - 10;\n    }\n\n    if (translateX < 0) {\n      translateX = 10;\n    }\n\n    ref.current.style.top = translateY + \"px\";\n    ref.current.style.left = translateX + \"px\";\n    ref.current.style.transformOrigin = `${transformOriginX} ${transformOriginY}`;\n    ref.current.style.visibility = \"visible\";\n  }, [ref?.current, refParent?.current]);\n\n  return {\n    handlePosition: _handlePosition,\n  };\n}\n\nexport default useHandlePosition;\n","import \"./style.css\";\n\nimport React, { useContext, useEffect, useMemo, useRef, useState } from \"react\";\n\nimport GuideContext from \"./../GuideContext\";\nimport useHandlePosition from \"../useHandlePosition\";\n\ninterface Props {\n  children: JSX.Element;\n  position?: (\"left\" | \"right\" | \"top\" | \"bottom\")[];\n  step: number;\n  title?: string;\n  message?: string;\n}\n\nexport default function ({\n  children,\n  position = [\"bottom\", \"left\"],\n  step,\n  title,\n  message,\n}: Props) {\n  const refChildren = useRef<any>();\n  const ref = useRef<any>();\n  const { run, step: stepContext, nextStep, total, setStep } = useContext(\n    GuideContext\n  );\n  const [active, setActive] = useState(false);\n  const { handlePosition } = useHandlePosition(refChildren, ref, { position, add: {\n    top: 10,\n    left: 10,\n    right: 10,\n    bottom: 10\n  } });\n\n  const _skip = () => {\n    setStep(0);\n  };\n\n  const _renderStep = useMemo(() => {\n    let html: any = [];\n    for (let i = 1; i <= total; i++) {\n      html.push(<div key={i} className={stepContext === i ? \"active\" : \"\"} />);\n    }\n\n    return html;\n  }, [total, stepContext]);\n\n  useEffect(() => {\n    setActive(run && step === stepContext);\n  }, [stepContext, run, step]);\n\n  useEffect(() => {\n    active && handlePosition();\n  }, [active]);\n\n  return active ? (\n    <div className=\"w-guide\">\n      <div className=\"w-guide-mark\" />\n      <div className=\"w-guide-wrap\">\n        {React.cloneElement(children, {\n          onClick: () => {},\n          ref: ref,\n          className:\n            children.props.className +\n            ` w-guide-tour-arrow ${position.join(\" \")} w-guide-relative`,\n        })}\n      </div>\n      <div\n        ref={refChildren}\n        className={`w-guide-tour-cp ${position.join(\" \")}`}\n      >\n        {title && <div className=\"w-guide-tour-title\">{title}</div>}\n        {message && <div className=\"w-guide-tour-message\">{message}</div>}\n        <div className=\"w-guide-tour-footer\">\n          <button className=\"w-guide-tour-skip\" onClick={_skip}>\n            Skip\n          </button>\n          <button className=\"w-guide-tour-next\" onClick={nextStep}>\n            {step === total ? \"Finish\" : \"Next\"}\n          </button>\n        </div>\n        <div className=\"w-guide-tour-step\">\n          {_renderStep && _renderStep.map((ele: any) => ele)}\n        </div>\n      </div>\n    </div>\n  ) : (\n    children\n  );\n}\n","import \"./style.css\";\n\nimport GuideContext, { GuideProvider, IGuide } from \"./GuideContext\";\nimport React, { useContext } from \"react\";\n\nimport ActionDrivenComponent from \"./ActionDrivenComponent\";\nimport TourComponent from \"./TourComponent\";\n\ninterface Props {\n  children: JSX.Element;\n  message?: string;\n  position?: (\"left\" | \"right\" | \"top\" | \"bottom\")[];\n  step: number;\n  text?: string;\n  title?: string;\n  type?: \"button\" | \"input\";\n}\n\nexport default function (props: Props) {\n  const { mode } = useContext(GuideContext);\n\n  return mode === \"action-driven\" ? (\n    <ActionDrivenComponent {...props} />\n  ) : (\n    <TourComponent {...props} />\n  );\n}\n\nexport { GuideContext, GuideProvider, IGuide };\n"],"names":[],"mappings":"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"}AE,GAAGC,gBAAU,CAAC,YAAY,CAAC,CAAC;IAE1C,OAAO,IAAI,KAAK,eAAe,IAC7BD,wCAAC,qBAAqB,oBAAK,KAAK,EAAI,KAEpCA,wCAAC,aAAa,oBAAK,KAAK,EAAI,CAC7B,CAAC;AACJ;;;;;;"}